<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Redis Queue demo">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='pages/index.css') }}">
  <title>Redis Queue demo</title>
</head>

<body class="page">
<div class="page__paper">

  <header class="header">
    <h1 class="header__title">Redis Queue demo</h1>
  </header>

  <main class="content">

    <section class="section">
      <h2 class="section__title">Load task queues</h2>
      <ul class="section__list">
        <li>
          <form action="{{ url_for('start_low_tasks') }}"
                method="get">
            <button class="button" type="submit">Low priority</button>
          </form>
        </li>
        <li>
          <form action="{{ url_for('start_default_tasks') }}"
                method="get">
            <button class="button" type="submit">Default priority</button>
          </form>
        </li>
        <li>
          <form action="{{ url_for('start_high_tasks') }}"
                method="get">
            <button class="button" type="submit">High priority</button>
          </form>
        </li>
        <li>
          <form action="{{ url_for('retry_failed_tasks') }}"
                method="get">
            <button class="button" type="submit">Failed tasks and retry</button>
          </form>
        </li>
        <li>
          <form action="{{ url_for('start_scheduled_task') }}"
                method="get">
            <button class="button" type="submit">Schedule task</button>
          </form>
        </li>
      </ul>
    </section>

    <section class="section">
      <h2 class="section__title">Empty queues and registries</h2>
      <ul class="section__list">
        <li>
          <form action="{{ url_for('empty_queues') }}"
                method="get">
            <button class="button" type="submit">Empty queues</button>
          </form>
        </li>
        <li>
          <form action="{{ url_for('empty_failed') }}"
                method="get">
            <button class="button" type="submit">Empty failed</button>
          </form>
        </li>
        <li>
          <form action="{{ url_for('empty_scheduled_list') }}"
                method="get">
            <button class="button" type="submit">Empty scheduled</button>
          </form>
        </li>
      </ul>
    </section>

    <section class="section">
      <h2 class="section__title">Monitoring</h2>
      <ul class="section__list">
        <li>
          <a class="link" href="http://127.0.0.1:5000/rq/"
             target="_blank">Queues</a>
        </li>
        <li>
          <a class="link" href="{{ url_for('get_scheduled_list')   }}"
             target="_blank">Scheduled tasks</a>
        </li>
      </ul>
    </section>
  </main>
</div>

<footer class="footer">
  <p class="footer__paragraph">Timur Gain, nov 2022</p>
</footer>

</body>
</html>
